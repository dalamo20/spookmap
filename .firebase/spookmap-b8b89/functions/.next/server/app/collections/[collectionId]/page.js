(()=>{var e={};e.id=244,e.ids=[244],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17814:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(44732),t(54393),t(90996);var o=t(30170),n=t(45002),r=t(83876),a=t.n(r),i=t(66299),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(s,l);let c=["",{children:["collections",{children:["[collectionId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44732)),"/Users/ypham/Desktop/danielProjects/spookmap/app/collections/[collectionId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,54393)),"/Users/ypham/Desktop/danielProjects/spookmap/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ypham/Desktop/danielProjects/spookmap/app/collections/[collectionId]/page.tsx"],p="/collections/[collectionId]/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/collections/[collectionId]/page",pathname:"/collections/[collectionId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},42493:(e,s,t)=>{Promise.resolve().then(t.bind(t,36877))},10822:(e,s,t)=>{Promise.resolve().then(t.bind(t,63960))},10978:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,63642,23)),Promise.resolve().then(t.t.bind(t,87586,23)),Promise.resolve().then(t.t.bind(t,47838,23)),Promise.resolve().then(t.t.bind(t,58057,23)),Promise.resolve().then(t.t.bind(t,77741,23)),Promise.resolve().then(t.t.bind(t,13118,23))},36877:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,dynamic:()=>l});var o=t(97247),n=t(28964),r=t(34178),a=t(19898),i=t(44597);let l="force-dynamic",c=()=>{let{data:e}=(0,a.useSession)(),{collectionId:s}=(0,r.useParams)(),[t,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(""),p=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"";(0,n.useEffect)(()=>{e&&s?(console.log("Fetching places for collectionId:",s),fetch(`/api/collections/${s}/places`).then(e=>e.json()).then(e=>{console.log("Fetched places:",e),l(e.places.map(e=>({...e,description:p(e.description)}))),d(e.collection.name)}).catch(e=>console.error("Error fetching places:",e))):console.log("No session or collectionId found:",{session:e,collectionId:s})},[e,s]);let h=async e=>{try{let t=await fetch("/api/collections/removePlace",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionId:s,placeId:e})});if(t.ok)l(s=>s.filter(s=>s.id!==e)),console.log("Place removed successfully.");else{let e=await t.json();console.error("Error removing place:",e.error)}}catch(e){console.error("Error removing place:",e)}};return e?(0,o.jsxs)("div",{className:"places-container",children:[(0,o.jsxs)("div",{className:"nav-div",children:[o.jsx("div",{className:"home-content",children:o.jsx(i.default,{src:"/images/SpookMap_logo.svg",alt:"Spooky background image",width:300,height:200,className:"ghost-image"})}),(0,o.jsxs)("div",{className:"btn-cont",children:[o.jsx("button",{className:"collections-btn home-btn",onClick:()=>window.location.href="/home",children:o.jsx("span",{children:"Home"})}),(0,o.jsxs)("button",{style:{marginLeft:"10px"},className:"collections-btn",onClick:()=>window.location.href="/collections",children:[o.jsx("span",{children:"Collections"}),o.jsx(i.default,{src:"/images/Save.png",alt:"save ribbon",width:20,height:20})]}),o.jsx("a",{className:"signOutBtn",onClick:()=>(0,a.signOut)({callbackUrl:"/"}),children:"Sign Out"})]})]}),o.jsx("p",{className:"page-heading",children:c?`Haunts in ${c}`:"Haunts in Collection"}),o.jsx("div",{}),t.length>0?o.jsx("ul",{children:t.map(e=>(0,o.jsxs)("div",{className:"haunts",children:[o.jsx(i.default,{className:"location-img",src:"/images/Location.png",alt:"location icon",width:20,height:20}),(0,o.jsxs)("li",{children:[o.jsx("h3",{children:e.name}),o.jsx("p",{children:e.description}),o.jsx("p",{children:o.jsx("i",{children:e.city&&e.state_abbrev?`${e.city}, ${e.state_abbrev}`:"City, State"})}),o.jsx(i.default,{onClick:()=>h(e.id),className:"remove-btn",src:"/images/delete.png",alt:"trash icon",width:20,height:20})]},e.id)]},e.id))}):o.jsx("p",{children:"No places found in this collection."})]}):o.jsx("p",{children:"Please log in to view this collection."})}},63960:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var o=t(97247),n=t(19898);t(28964);let r=({children:e})=>o.jsx(n.SessionProvider,{children:e})},34178:(e,s,t)=>{"use strict";var o=t(25289);t.o(o,"useParams")&&t.d(s,{useParams:function(){return o.useParams}}),t.o(o,"useRouter")&&t.d(s,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(s,{useSearchParams:function(){return o.useSearchParams}})},44732:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r,dynamic:()=>n});var o=t(45347);let n=(0,o.createProxy)(String.raw`/Users/ypham/Desktop/danielProjects/spookmap/app/collections/[collectionId]/page.tsx#dynamic`),r=(0,o.createProxy)(String.raw`/Users/ypham/Desktop/danielProjects/spookmap/app/collections/[collectionId]/page.tsx#default`)},54393:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>i});var o=t(72051),n=t(31312),r=t.n(n);let a=(0,t(45347).createProxy)(String.raw`/Users/ypham/Desktop/danielProjects/spookmap/components/SessionWrapper.tsx#default`);t(67272);let i={title:"Create Next App",description:"Generated by create next app"};function l({children:e}){return o.jsx(a,{children:o.jsx("html",{lang:"en",children:o.jsx("body",{className:r().className,children:e})})})}},67272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),o=s.X(0,[379,110,597],()=>t(17814));module.exports=o})();